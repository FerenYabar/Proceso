{"ast":null,"code":"import _asyncToGenerator from \"/home/fernando/Documents/completo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { DetalleReserva } from \"src/app/modelo/detallereserva.class\";\nimport { categoriaActiva } from '../../categoria/services/categoria.service';\nimport { usuarioactivo, localactivo, adminactivo } from '../../login/login-main/services/login.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nexport class ProductoService {\n  constructor(route, http) {\n    this.route = route;\n    this.http = http;\n    this.lista = [];\n    this.lista1 = [];\n    this.lista2 = [];\n    this.productoslocal = [];\n    this.productocategoria = [];\n    this.detallesreserva = [];\n    this.usuarioactivo = usuarioactivo;\n    this.localactivo = localactivo;\n    this.adminactivo = adminactivo;\n    this.categoria = categoriaActiva;\n    usuarioactivo = usuarioactivo;\n    localactivo = localactivo;\n    adminactivo = adminactivo;\n    categoria = categoriaActiva;\n    this.http.get('http://127.0.0.1:8080/api/productolocal').subscribe(resp => {\n      console.log(resp);\n      this.productoslocal = resp;\n    });\n  }\n\n  agregar(productolocal) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.detallesreserva = _this.detallesreserva.filter(elemen => elemen.tieneReserva.estadoReserva == false && elemen.tieneReserva.tieneUsuario.dniUsuario == usuarioactivo[0].dniUsuario);\n      let nuevodetallereserva = new DetalleReserva(0, 1, productolocal, _this.detallesreserva[0].tieneReserva);\n\n      const promesa = _this.http.post('http://localhost:8080/api/productolocal', nuevodetallereserva).toPromise();\n\n      return promesa.then(value => {\n        return true;\n      });\n    })();\n  }\n\n  login() {\n    this.route.navigate(['login']);\n  }\n\n  filtrar() {\n    if (this.categoria.length == 0) {\n      return this.productoslocal;\n    } else {\n      const categoriaproducto = this.productoslocal.filter(elemen => elemen.getproducto.getcategoriaproducto == this.categoria[0]);\n      return categoriaproducto;\n    }\n  }\n\n}\n\nProductoService.ɵfac = function ProductoService_Factory(t) {\n  return new (t || ProductoService)(i0.ɵɵinject(i1.Router), i0.ɵɵinject(i2.HttpClient));\n};\n\nProductoService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ProductoService,\n  factory: ProductoService.ɵfac,\n  providedIn: 'root'\n});\nconst productocategoria = [];","map":{"version":3,"sources":["/home/fernando/Documents/completo/src/app/productos/services/producto.service.ts"],"names":[],"mappings":";AAEA,SAAS,cAAT,QAA+B,qCAA/B;AAGA,SAAS,eAAT,QAAgC,4CAAhC;AAGA,SAAS,aAAT,EAAwB,WAAxB,EAAqC,WAArC,QAAwD,+CAAxD;;;;AAMA,OAAM,MAAO,eAAP,CAAsB;AAC5B,EAAA,WAAA,CAAoB,KAApB,EAA0C,IAA1C,EAAyD;AAArC,SAAA,KAAA,GAAA,KAAA;AAAsB,SAAA,IAAA,GAAA,IAAA;AAQnC,SAAA,KAAA,GAAiB,EAAjB;AACA,SAAA,MAAA,GAAuB,EAAvB;AACA,SAAA,MAAA,GAAmB,EAAnB;AAEP,SAAA,cAAA,GAA+B,EAA/B;AACA,SAAA,iBAAA,GAA6B,EAA7B;AACA,SAAA,eAAA,GAAiC,EAAjC;AASA,SAAA,aAAA,GAAc,aAAd;AACA,SAAA,WAAA,GAAY,WAAZ;AACA,SAAA,WAAA,GAAY,WAAZ;AACA,SAAA,SAAA,GAAU,eAAV;AAzBI,IAAA,aAAa,GAAC,aAAd;AACJ,IAAA,WAAW,GAAC,WAAZ;AACA,IAAA,WAAW,GAAC,WAAZ;AACA,IAAA,SAAS,GAAC,eAAV;AACI,SAAK,IAAL,CAAU,GAAV,CAA+B,yCAA/B,EAA0E,SAA1E,CAAqF,IAAD,IAAY;AAAC,MAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AAAkB,WAAK,cAAL,GAAoB,IAApB;AAA0B,KAA7I;AACF;;AASI,EAAA,OAAO,CAAC,aAAD,EAA4B;AAAA;;AAAA;AACrC,MAAA,KAAI,CAAC,eAAL,GAAsB,KAAI,CAAC,eAAL,CAAqB,MAArB,CAA4B,MAAM,IAAI,MAAM,CAAC,YAAP,CAAoB,aAApB,IAAmC,KAAnC,IAA4C,MAAM,CAAC,YAAP,CAAoB,YAApB,CAAiC,UAAjC,IAA6C,aAAa,CAAC,CAAD,CAAb,CAAiB,UAAhJ,CAAtB;AACA,UAAI,mBAAmB,GAAG,IAAI,cAAJ,CAAmB,CAAnB,EAAqB,CAArB,EAAuB,aAAvB,EAAqC,KAAI,CAAC,eAAL,CAAqB,CAArB,EAAwB,YAA7D,CAA1B;;AACA,YAAM,OAAO,GAAG,KAAI,CAAC,IAAL,CAAU,IAAV,CAA8B,yCAA9B,EAAwE,mBAAxE,EAA6F,SAA7F,EAAhB;;AACI,aAAO,OAAO,CAAC,IAAR,CAAa,KAAK,IAAG;AAAC,eAAO,IAAP;AAAY,OAAlC,CAAP;AAJiC;AAMxC;;AAMD,EAAA,KAAK,GAAA;AACD,SAAK,KAAL,CAAW,QAAX,CAAoB,CAAC,OAAD,CAApB;AACH;;AAID,EAAA,OAAO,GAAA;AACH,QAAG,KAAK,SAAL,CAAe,MAAf,IAAuB,CAA1B,EAA4B;AAExB,aAAO,KAAK,cAAZ;AACH,KAHD,MAII;AACA,YAAM,iBAAiB,GAAiB,KAAK,cAAL,CAAoB,MAApB,CAA2B,MAAM,IAAK,MAAM,CAAC,WAAP,CAAmB,oBAAnB,IAA2C,KAAK,SAAL,CAAe,CAAf,CAAjF,CAAxC;AACA,aAAO,iBAAP;AACH;AAEJ;;AA5C2B;;;mBAAf,e,EAAe,EAAA,CAAA,QAAA,CAAA,EAAA,CAAA,MAAA,C,EAAA,EAAA,CAAA,QAAA,CAAA,EAAA,CAAA,UAAA,C;AAAA,C;;;SAAf,e;AAAe,EAAA,OAAA,EAAf,eAAe,CAAA,I;AAAA,EAAA,UAAA,EAFb;;AAkDf,MAAM,iBAAiB,GAAa,EAApC","sourcesContent":["import { Injectable } from \"@angular/core\";\nimport { Categoria } from \"src/app/modelo/categoria.class\";\nimport { DetalleReserva } from \"src/app/modelo/detallereserva.class\";\nimport { ProductoLocal} from \"src/app/modelo/productolocal.class\";\nimport { Reserva, reservas } from \"src/app/modelo/reserva.class\";\nimport { categoriaActiva } from '../../categoria/services/categoria.service';\nimport { categorias } from '../../modelo/categoria.class';\nimport { Producto, productos } from '../../modelo/producto.class';\nimport { usuarioactivo, localactivo, adminactivo } from '../../login/login-main/services/login.service';\nimport { Router } from '@angular/router';\nimport { HttpClient } from \"@angular/common/http\";\n@Injectable({\n    providedIn:'root'\n})\nexport class ProductoService{\nconstructor(private route:Router, private http:HttpClient) {\n    usuarioactivo=usuarioactivo\nlocalactivo=localactivo\nadminactivo=adminactivo\ncategoria=categoriaActiva\n    this.http.get<ProductoLocal[]>('http://127.0.0.1:8080/api/productolocal').subscribe((resp:any)=>{console.log(resp);this.productoslocal=resp;});\n }\n\npublic lista:Producto[]=[]\npublic lista1:ProductoLocal[]=[]\npublic lista2:Categoria[]=[]\n\nproductoslocal:ProductoLocal[]=[];\nproductocategoria:Producto[]=[]\ndetallesreserva:DetalleReserva[]=[]\nasync agregar(productolocal:ProductoLocal){\n    this.detallesreserva= this.detallesreserva.filter(elemen => elemen.tieneReserva.estadoReserva==false && elemen.tieneReserva.tieneUsuario.dniUsuario==usuarioactivo[0].dniUsuario);\n    let nuevodetallereserva = new DetalleReserva(0,1,productolocal,this.detallesreserva[0].tieneReserva)\n    const promesa = this.http.post<ProductoLocal>('http://localhost:8080/api/productolocal',nuevodetallereserva).toPromise();\n        return promesa.then(value =>{return true});\n       \n}\n\nusuarioactivo=usuarioactivo\nlocalactivo=localactivo\nadminactivo=adminactivo\ncategoria=categoriaActiva\nlogin(){\n    this.route.navigate(['login'])\n}\n\n\n\nfiltrar(){\n    if(this.categoria.length==0){\n       \n        return this.productoslocal\n    }\n    else{      \n        const categoriaproducto:ProductoLocal[]=this.productoslocal.filter(elemen => (elemen.getproducto.getcategoriaproducto == this.categoria[0]))\n        return categoriaproducto\n    }\n    \n}\n\n}\n\nconst productocategoria:Categoria[]=[]\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}